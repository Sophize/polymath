{
  "indexable": true,
  "title": "The Khinchin–Kahane inequality and Banach space embeddings for metric groups",
  "authors": [
    {
      "user": {
        "userName": "Apoorva Khare",
        "userEmail": "khare@iisc.ac.in",
        "userLink": "http://www.math.iisc.ac.in/~khare/",
        "userPic": "http://www.math.iisc.ac.in/~khare/icons/Khare_Apoorva.jpg"
      }
    },
    {
      "user": {
        "userName": "Bala Rajaratnam"
      }
    }
  ],
  "abstractText": "We extend the Khinchin–Kahane inequality to an arbitrary abelian metric group ${\\mathscr G}$. In the special case where ${\\mathscr G}$ is normed, we prove a refinement which is sharp and which extends the sharp version for Banach spaces. We also provide an alternate proof for normed metric groups as a consequence of a general “transfer principle”. This transfer principle has immediate applications to stochastic inequalities for ${\\mathscr G}$-valued random variables. We also show how to use it to define the expectation of random variables with values in arbitrary abelian normed metric semigroups.",
  "beliefset": "#.2wK/B.default",
  "content": "Introduction\n============\n\nThe Khinchin–Kahane inequality is a classical inequality in the probability literature. It was initially studied by Khinchin [@Khi] in the real case, and later extended by Kahane [@Kah2] to normed linear spaces. A detailed history of the inequality can be found in [@LO]. We begin by presenting a general version of the inequality for Banach spaces, as well as a sharp constant in some cases.\n\nA *Rademacher random variable* is a Bernoulli variable that takes values $\\pm 1$ with probability $1/2$ each.\n\nFor all $p,q \\in [1,\\infty)$, there exists a universal constant $C_{p,q}\n> 0$ depending only on $p,q$, such that for all choices of separable Banach spaces ${\\mathbb B}$, finite sets of vectors $x_1, \\dots, x_n \\in {\\mathbb B}$, and independent Rademacher variables $r_1,\\dots,r_n$,\n$${\\mathbb E}\\left[ \\left\\| \\sum_{i=1}^n r_i x_i \\right\\|^q \\right]^{1/q}\n\\leqslant C_{p,q} \\cdot {\\mathbb E}\\left[ \\left\\| \\sum_{i=1}^n r_i x_i\n\\right\\|^p \\right]^{1/p}.$$\n\nIf moreover $p=1 \\leqslant q \\leqslant 2$, then the constant $C_{1,q} = 2^{1-1/q}$ is optimal.\n\nNotice that to state the theorem one only requires Rademacher (i.e., random symmetric) sums of vectors. Thus, it is possible to state the result more generally than in a normed linear space: in fact, in any abelian group ${\\mathscr G}$ equipped with a translation-invariant metric. Now it is natural to ask whether a variant of the Khinchin–Kahane inequality holds in this general (and strictly larger) setting. One of our main results provides a positive answer to this question; see Theorem \\[Tkhinchin\\].\n\nIn working outside the traditional Banach space paradigm, we are motivated by several reasons, both classical and modern. Traditionally, the foundations of probability theory have been systematically and rigorously established in the Banach space setting; see the classic treatise [@LT] for a compendium of such results. In even greater generality, the study of Fourier analysis and Haar measure for compact abelian groups, as well as of metric group-valued random variables has been carried out in well-known texts including [@Gre; @Ru]. In this vein, it is of interest to prove stochastic inequalities in the most primitive mathematical framework required to state them. Recently in [@KR4], we showed such a extension of the Hoffmann-J[ø]{}rgensen inequality for arbitrary metric semigroups. The present paper is in a parallel vein, and achieves such an extension of the Khinchin–Kahane inequality to metric groups.\n\nThere are also modern reasons to work with metric groups. In modern-day settings, one often studies random variables with values in permutation groups, or more generally, abelian and compact Lie groups such as lattices and tori (respectively). Moreover, data can be manifold-valued, living in e.g. real or complex Lie groups rather than in linear spaces. There are other recently studied frameworks arising from the study of large networks, including the space of graphons with the cut-norm [@Lo], or the space of labelled graphs ${\\mathscr G}(V)$ with node set $V$ [@KR1; @KR2]. The latter is an abelian $2$-torsion metric group that cannot embed into a Banach space. Thus there is renewed modern interest in studying probability theory outside of the Banach space paradigm. The present paper lies firmly in this setting.\n\nWe now state some of the novel contributions of the paper. The first is to extend the Khinchin–Kahane inequality to abelian metric groups, in Theorem \\[Tkhinchin\\]. Next, remark that working with metric groups ${\\mathscr G}$ has an important and fundamental distinction from Banach spaces: the unavailability of an *expectation* function. Thus, another motivation is the question of when such an expectation function can be defined for metric (semi)group-valued random variables. In our second main result, Theorem \\[Tnormed\\], we show that when the metric semigroup ${\\mathscr G}$ is *normed* (defined presently), it is possible to define expectations of ${\\mathscr G}$-valued random variables. Such an expectation does not necessarily live in the (abelian) group ${\\mathscr G}$, but inside its “Banach space closure”, a notion that we make precise and study in detail below.\n\nTheorem \\[Tnormed\\] has several immediate consequences, including convergence results and inequalities controlling tail behavior, that are described in Section \\[Snormed\\].\n\nThe above analysis to show Theorem \\[Tnormed\\] prompted us to revisit the Khinchin–Kahane inequality for abelian metric groups ${\\mathscr G}$, and to refine it for normed ${\\mathscr G}$. Indeed, we prove a sharp inequality for such groups by obtaining the best possible constants; see Theorem \\[Tkhinchin\\]. Moreover, we point out natural connections between defining expectations for ${\\mathscr G}$-valued random variables and a question in geometric group theory on bi-invariant word metrics, which may be of independent mathematical interest, and whose answer is not known to our knowledge (and that of experts). See Remark \\[Ropen\\]. There are other connections to Banach space embeddings of weakly normed groups that we describe in Section \\[Snormed\\]. As an additional remark, in the course of proving the Khinchin–Kahane inequality for abelian metric groups (Theorem \\[Tkhinchin\\]), we also provide a twofold extension of Lévy’s inequality; see Proposition \\[Llevyineq\\]. First, the result unifies several existing variants of the inequality in the literature, which to our knowledge had not been brought together under one common statement. Second, the result holds in the minimal framework required to state it: for all abelian metric groups.\n\nKhinchin–Kahane inequality for metric groups {#Skhinchin}\n============================================\n\nIn this section, we state and prove a sharp version of the Khinchin–Kahane inequality for abelian normed metric groups.\n\nNormed metric groups and the main result\n----------------------------------------\n\n\\[Dsemi\\] A *metric semigroup* is defined to be a semigroup $({\\mathscr G}, \\cdot)$ equipped with a metric $d_{\\mathscr G}: {\\mathscr G}\\times {\\mathscr G}\\to [0,\\infty)$ that is translation-invariant. In other words,\n$$d_{\\mathscr G}(ac,bc) = d_{\\mathscr G}(a,b) = d_{\\mathscr G}(ca,cb), \\qquad \\forall a,b,c \\in {\\mathscr G}.$$\nSimilarly, one defines a *metric monoid* and a *metric group*.\n\nMetric semigroups and groups with translation-invariant metrics encompass a large class of examples and spaces studied in modern probability theory. Examples include Euclidean, Banach, and Hilbert spaces, function spaces under suitable metrics (such as $L^p$-spaces), as well as all compact or abelian Lie groups such as circles and tori (this last uses e.g. [@St Theorem V.5.3]). Another class of examples consists of discrete semigroups, including all finite groups as well as labelled graph space ${\\mathscr G}(V)$ [@KR1; @KR2]. Certain classes of amenable groups are also metric groups; see Proposition \\[Pnormed\\](4) below. Other examples include abelian, Hausdorff, metrizable, topologically complete groups [@Kl].\n\nWe now introduce the following notion that is crucially used throughout the paper.\n\n\\[Dnormed\\] Given a subset $J \\subset {\\mathbb N}$, we say a metric semigroup $({\\mathscr G}, d_{\\mathscr G})$ is *$J$-normed* if\n$$d_{\\mathscr G}(z_0, z_0^{n+1}) = n d_{\\mathscr G}(z_0, z_0^2), \\qquad \\forall n \\in J, \\ z_0\n\\in {\\mathscr G}.$$\nA metric semigroup $({\\mathscr G}, d_{\\mathscr G})$ is *normed* if it is $J$-normed for some nonempty subset $\\{ 1 \\} \\neq J \\subset {\\mathbb N}$.\n\nThere is extensive literature on the analysis of topological semigroups with translation-invariant metrics and related structures. See [@BO; @CSC; @GK] and the references therein for more on the subject. These references call any group with a metric (under which the inverse map is an isometry) a “normed” group, while the above definition is termed *$J$-homogeneity*. However, in Definition \\[Dnormed\\] we adopt instead the notation of [@Step], and define a norm to be more in the flavor of Banach spaces. The objects in Definition \\[Dsemi\\] will be called metric groups in this paper.\n\nClearly, normed linear spaces are examples of ${\\mathbb N}$-normed abelian metric groups. However, not all metric groups are $J$-normed for some $J \\neq \\{\n1 \\}$. For instance, such $J$-normed groups ${\\mathscr G}$ are necessarily torsion-free, i.e., contain no elements $z \\neq 1_{\\mathscr G}$ such that $z^n =\n1_{\\mathscr G}$ for some $n \\in {\\mathbb N}$. In light of this discussion, we now state our first main result, the Khinchin–Kahane inequality, for arbitrary abelian metric groups, together with a refinement for normed groups.\n\n\\[Tkhinchin\\] Given $p,q \\in [1,\\infty)$, there exists a universal constant $C_{p,q} >\n0$ depending only on $q$ and ${\\bf 1}_{q>p}$, such that for all choices of separable normed abelian metric groups ${\\mathscr G}$, finite sequences of elements $x_1, \\dots, x_n \\in {\\mathscr G}$ (for any $n>0$), and independent Rademacher variables $r_1, \\dots, r_n$,\n$$\n{\\mathbb E}_\\mu \\left[ d_{\\mathscr G}(1_{\\mathscr G}, \\prod_{k=1}^n x_k^{r_k})^q \\right]^{1/q}\n\\leqslant C_{p,q} \\cdot {\\mathbb E}_\\mu \\left[ d_{\\mathscr G}(1_{\\mathscr G}, \\prod_{k=1}^n\nx_k^{r_k})^p \\right]^{1/p}.$$\n\n1.  Moreover, one can choose $C_{p,q} = 1$ if $q \\leqslant p$, and $C_{p,q} = 64 q (q/4)^{1/q}$ if $q > p$.\n\n2.  If $p = 1 \\leqslant q \\leqslant 2$, then one can choose $C_{1,q} =\n    2^{1 - 1/q}$, and this constant is best possible for every nontrivial abelian normed group ${\\mathscr G}$.\n\nMore generally, if ${\\mathscr G}$ is any separable abelian metric group (not necessarily normed), then a similar result to Equation  holds, with different universal constants $K_{p,q}$:\n$$\n{\\mathbb E}_\\mu \\left[ d_{\\mathscr G}(1_{\\mathscr G}, \\prod_{k=1}^n x_k^{2^l r_k})^q \\right]^{1/q}\n\\leqslant K_{p,q} \\cdot {\\mathbb E}_\\mu \\left[ d_{\\mathscr G}(1_{\\mathscr G}, \\prod_{k=1}^n\nx_k^{r_k})^p \\right]^{1/p},$$\n\nwhere $l \\in {\\mathbb N}$ is such that $2^{l-1} \\leqslant q < 2^l$, and $K_{p,q} = 64 q^2 (q/4)^{1/q}$ for all $p,q \\geqslant 1$.\n\n(Thus $K_{p,q} = q C_{p,q}$ for $q > p$.) Existing variants in the literature are usually special cases with ${\\mathscr G}= {\\mathbb B}$ a separable Banach space; in this case one usually writes the Rademacher sum as $\\sum_{k=1}^n r_k x_k$. Note that if ${\\mathscr G}$ is not assumed to have a normed structure, then the corresponding inequality  in this more general case does not compare the same terms as the classical Khinchin–Kahane inequality . However, as we see below, the inequality  quickly follows from the general case of .\n\nTheorem \\[Tkhinchin\\] provides an example of “universal constants” which help compare $L^p$-norms of sums of independent ${\\mathscr G}$-valued variables, across various $p > 0$. This theme is explored in greater detail and generality in abelian metric semigroups, in related work [@KR3]. Recall moreover that in the classic paper [@LO], Lata[ł]{}a and Oleszkiewicz had obtained the best such universal constants across all Banach spaces. Theorem \\[Tkhinchin\\] shows that the same constants work for the Khinchin–Kahane inequality in abelian normed metric groups.\n\nMetric semigroups\n-----------------\n\nWe begin by discussing some basic properties of metric semigroups (see Definition \\[Dsemi\\]). First note that for a metric semigroup, the following “triangle inequality” is straightforward, and used below without further reference:\n$$\nd_{\\mathscr G}(y_1 y_2, z_1 z_2) \\leqslant d_{\\mathscr G}(y_1, z_1) + d_{\\mathscr G}(y_2, z_2)\\ \\forall\ny_i, z_i \\in {\\mathscr G}.$$\n\nWe also require the following preliminary result, in this section as well as later.\n\n\\[Pstrict\\] Suppose $({\\mathscr G}, d_{\\mathscr G})$ is a metric semigroup, and $a,b \\in {\\mathscr G}$. Then\n$$\nd_{\\mathscr G}(a,ba) = d_{\\mathscr G}(b,b^2) = d_{\\mathscr G}(a,ab)$$\n\nis independent of $a \\in {\\mathscr G}$. Moreover, ${\\mathscr G}$ has at most one idempotent (i.e., $b \\in {\\mathscr G}$ such that $b^2 = b$). Such an element $b$ is automatically the unique two-sided identity in ${\\mathscr G}$, making it a metric monoid.\n\nEquation  is immediate using the translation-invariance of $d_{\\mathscr G}$:\n$$d_{\\mathscr G}(a,ba) = d_{\\mathscr G}(ba, b^2 a) = d_{\\mathscr G}(b, b^2) = d_{\\mathscr G}(ab, a b^2) =\nd_{\\mathscr G}(a, ab).$$\n\nNext, if ${\\mathscr G}$ has idempotents $b,b'$, then using Equation ,\n$$d_{\\mathscr G}(b,b') = d_{\\mathscr G}(b^2, bb') = d_{\\mathscr G}(b^2, b^2 b') = d_{\\mathscr G}(b,bb') =\nd_{\\mathscr G}(b', (b')^2) = 0.$$\n\nHence $b = b'$. Moreover, given such an idempotent $b \\in {\\mathscr G}$, compute using Equation :\n$$d_{\\mathscr G}(a,ba) = d_{\\mathscr G}(a,ab) = d_{\\mathscr G}(b,b^2) = 0, \\quad \\forall a \\in {\\mathscr G}.$$\n\nHence $b$ is automatically the unique two-sided identity in ${\\mathscr G}$.\n\nAn easy consequence of Proposition \\[Pstrict\\] is the following.\n\n\\[Cstrict\\] A set ${\\mathscr G}$ is a metric semigroup only if ${\\mathscr G}$ is a metric monoid, or the set of non-identity elements in a metric monoid ${\\mathscr G}'$. This is if and only if the number of idempotents in ${\\mathscr G}$ is one or zero, respectively. Moreover, the metric monoid ${\\mathscr G}'$ is (up to a monoid isomorphism) the unique smallest element in the class of metric monoids containing ${\\mathscr G}$ as a sub-semigroup. A finite metric semigroup is a metric group.\n\nGiven any semigroup ${\\mathscr G}$ that is not already a monoid, in order to attach an “identity” element $1'$ and obtain a monoid, one defines: $1' \\cdot\na = a \\cdot 1' := a\\ \\forall a \\in {\\mathscr G}' := {\\mathscr G}\\sqcup \\{ 1' \\}$. Also extend $d_{\\mathscr G}$ to $d_{{\\mathscr G}'} : {\\mathscr G}' \\times {\\mathscr G}' \\to [0,\\infty)$ via: $d_{{\\mathscr G}'}(1',1') = 0$ and $d_{{\\mathscr G}'}(1',b) = d_{{\\mathscr G}'}(b,1') := d_{\\mathscr G}(b,b^2)$ for $b \\in {\\mathscr G}$. Then ${\\mathscr G}'$ is a metric monoid. The next assertion now follows from Proposition \\[Pstrict\\]. It is clear that the monoid ${\\mathscr G}' \\supset {\\mathscr G}$ is uniquely determined. The final assertion holds since left- and right- multiplication by any $a\n\\in {\\mathscr G}$ are bijections.\n\n\\[Rstrict\\] We will denote the unique metric monoid containing a given metric semigroup ${\\mathscr G}$ by ${\\mathscr G}' := {\\mathscr G}\\cup \\{ 1' \\}$. Note that the idempotent $1'$ may already be in ${\\mathscr G}$, in which case ${\\mathscr G}= {\\mathscr G}'$. One consequence of Corollary \\[Cstrict\\] is that instead of working with metric semigroups, one can use the associated monoid ${\\mathscr G}'$ instead. (In other words, the (non)existence of the identity is not an issue in such cases.) This helps simplify other calculations. For instance, what would be a lengthy, inductive computation now becomes much simpler: for non-negative integers $k,l$, and $z_0, z_1, \\dots, z_{k+l} \\in {\\mathscr G}$, the triangle inequality  implies:\n$$d_{\\mathscr G}(z_0 \\cdots z_k, z_0 \\cdots z_{k+l}) = d_{{\\mathscr G}'}(1', \\prod_{i=1}^l\nz_{k+i}) \\leqslant \\sum_{i=1}^l d_{{\\mathscr G}'}(1', z_{k+i}) = \\sum_{i=1}^l\nd_{\\mathscr G}(z_0, z_0 z_{k+i}).$$\n\nLévy’s inequality and proof of the Khinchin–Kahane inequality\n-------------------------------------------------------------\n\nNext, we define symmetric random variables and discuss Lévy’s inequality for abelian metric groups.\n\nIf $({\\mathscr G}, 1_{\\mathscr G}, d_{\\mathscr G})$ is a separable metric group and $I$ is a totally ordered finite set, then a tuple $(X_i)_{i \\in I}$ of random variables in $L^0(\\Omega,{\\mathscr G})$ is *symmetric* if for all finite subsets $J\n\\subset I$ and all functions $\\varepsilon : J \\to \\{ \\pm 1 \\}$, the $2^{|J|}$ ordered tuples of variables $S_\\varepsilon :=\n(X_j^{\\varepsilon(j)})_{j \\in J}$ all have the same joint distribution – i.e., this is independent of $\\varepsilon$.\n\n\\[Llevyineq\\] Fix an abelian separable metric group $({\\mathscr G}, 1_{\\mathscr G}, d_{\\mathscr G})$, integers $m,n\n\\in {\\mathbb N}$, and symmetric random variables $X_1, \\dots, X_n \\in\nL^0(\\Omega,{\\mathscr G})$. Also fix subsets $B_1, \\dots, B_m \\subset \\{ 1, \\dots, n\n\\}$, such that for all $1 \\leqslant j \\leqslant k \\leqslant m$, $B_j \\cap\nB_k$ is either $B_j$ or empty. Set $X_B := \\prod_{b \\in B} X_b$ for all $B \\subset \\{ 1, \\dots, n \\}$. Then for all $s,t>0$,\n$${\\mathbb P}\n\\leqslant {\\mathbb P} + {\\mathbb P}.$$\n\nNote that if ${\\mathscr G}$ is a normed linear space and $s=t$, then the left-hand side is concerned with the event that $\\| 2 X_{B_k} \\| > 2t$, which is how the inequality usually appears in the literature.\n\nWhile the proof of Proposition \\[Llevyineq\\] is similar to existing proofs in the literature and is thus omitted, it is the universal formulation and generalization of the result that is of note. Indeed, Proposition \\[Llevyineq\\] simultaneously strengthens several different variants in the literature, which to our knowledge had not previously been unified. See [@LT Proposition 2.3] for two special cases where ${\\mathscr G}$ is a Banach space, $s=t$, $m=n$, and $B_k = \\{ 1, \\dots, k \\}$ or $B_k = \\{ k\n\\}$ for all $k$. Proposition \\[Llevyineq\\] also holds for other choices of subsets $B_k$, e.g. $\\{ 1 \\}, \\{ 1, 2 \\}, \\{ 3, 4, 5 \\}, \\{ 3, 4, 5, 6 \\}$; or $B_k = \\{ n-k+1, \\dots, n \\}$ by reversing the order of summation; this last choice is used below. Moreover, Proposition \\[Llevyineq\\] extends Lévy’s inequality from Banach spaces to all abelian metric groups.\n\nIn order to prove Theorem \\[Tkhinchin\\], we also require the following result.\n\n\\[Lnormed\\] For any metric semigroup $({\\mathscr G}, d_{\\mathscr G})$, the following are equivalent.\n\n1.  ${\\mathscr G}$ is $J$-normed for some nonempty subset $J \\subset {\\mathbb N}$, $J \\neq\n    \\{ 1 \\}$.\n\n2.  ${\\mathscr G}$ is $J$-normed for every nonempty subset $J \\subset {\\mathbb N}$.\n\n3.  ${\\mathscr G}$ is ${\\mathbb N}$-normed.\n\nLemma \\[Lnormed\\] explains the choice of notation in defining normed semigroups in Definition \\[Dnormed\\]. The result is similar to [@GK Lemma 1], which was stated with part (1) involving $J = \\{ 2 \\}$, and without part (2). For the reader’s convenience, we include a proof.\n\nUsing Remark \\[Rstrict\\], we work in the metric monoid ${\\mathscr G}'$ containing ${\\mathscr G}$. Then ${\\mathscr G}$ is $J$-normed if and only if so is ${\\mathscr G}'$; moreover, in ${\\mathscr G}'$ the property of being $J$-normed reads: $d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0^n) = n d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0)$ for all $n \\in J$ and $z_0 \\in {\\mathscr G}$. Now clearly $(2) \\Longleftrightarrow (3) \\implies (1)$. Conversely, suppose $(1)$ holds for $J \\supset \\{ n \\}$, with $n>1$. Then it immediately follows that $d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0^{n^k}) = n^k\nd_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0)$ for all $n, k \\in {\\mathbb N}$. Now given $m \\in {\\mathbb N}$, it follows that $n^{k-1} \\leqslant m < n^k$ for some $k \\in {\\mathbb N}$. Therefore,\n$$\\begin{aligned}\nn^k d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0) = d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0^{n^k})\n\\leqslant &\\ d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0^m) + d_{{\\mathscr G}'}(z_0^m, z_0^{n^k})\\\\\n\\leqslant &\\ d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0^m) + (n^k - m) d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0).\\end{aligned}$$\n\nIt follows that $m d_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0) \\leqslant\nd_{{\\mathscr G}'}(1_{{\\mathscr G}'}, z_0^m)$. The reverse inequality follows by the triangle inequality in ${\\mathscr G}'$, which shows (3) and concludes the proof.\n\nUsing Proposition \\[Llevyineq\\] and Lemma \\[Lnormed\\], we now prove the Khinchin–Kahane inequality.\n\nFor this proof, fix a separable abelian metric group ${\\mathscr G}$, elements $x_1,\n\\dots, x_n$ $\\in {\\mathscr G}$, and Rademacher variables $r_1, \\dots, r_n$. For ease of exposition we show the result in steps.\n\n**Step 1.** We claim that the following preliminary result holds:\n\n*For all separable abelian metric groups ${\\mathscr G}$ and ${\\mathscr G}$-valued Rademacher sums $\\prod_{k=1}^n x_k^{r_k}$,*\n$$\\begin{aligned}\n\n\\begin{aligned}\n&\\ {\\mathbb P}\\\\\n& \\leqslant ({\\mathbb P} + {\\mathbb P}) \\cdot ({\\mathbb P} + {\\mathbb P})\n\\end{aligned}\\end{aligned}$$\n\n*for all $s,t,u,v > 0$, where $P_n := d_{\\mathscr G}(1_{\\mathscr G},\n\\prod_{k=1}^n x_k^{r_k})$.*\n\nExisting variants in the literature are usually special cases with ${\\mathscr G}=\n{\\mathbb B}$ a separable Banach space and $s=t=u=v$. While the proof uses familiar arguments, we include it for the reader’s convenience, as it is in somewhat greater generality than can usually be found in the literature.\n\nDefine $S_k := \\prod_{j=1}^k x_j^{r_j}$ for $1 \\leqslant k \\leqslant n$. Similar to the proof of Lévy’s inequality (Proposition \\[Llevyineq\\]), define the stopping time $\\tau := \\min \\{\n1 \\leqslant k \\leqslant n : d_{\\mathscr G}(1_{\\mathscr G}, S^2_k) > s+t \\}$. Also recall that $(r_1, \\dots, r_n)$ and $(r_1, \\dots, r_k, r_k r_{k+1}, \\dots, r_k r_n)$ are identically distributed. Therefore,\n$$\\begin{aligned}\n&\\ {\\mathbb P}\n= {\\mathbb P}\\\\\n= &\\ {\\mathbb P} =\n{\\mathbb P}\\\\\n= &\\ {\\mathbb P} = {\\mathbb P}.\\end{aligned}$$\n\nThe same argument without restricting to the event $\\tau = k$ shows that:\n$${\\mathbb P} = {\\mathbb P}.$$\n\nNow note that if $d_{\\mathscr G}(1_{\\mathscr G}, S_n^2(\\omega)) > s+t+u+v$ and $\\tau(\\omega) = k$, then $d_{\\mathscr G}(S_{k-1}^2(\\omega), S_n^2(\\omega)) > u+v$. Since $\\tau = k$ and $d_{\\mathscr G}(S_k^2,x_k^2 S_n^2)$ are independent, we compute:\n$$\\begin{aligned}\n&\\ {\\mathbb P} \\leqslant\n{\\mathbb P}\\\\\n= &\\ {\\mathbb P} {\\mathbb P}\n= {\\mathbb P} {\\mathbb P}\\\\\n\\leqslant &\\ {\\mathbb P} \\left( {\\mathbb P} + {\\mathbb P} \\right),\\end{aligned}$$\n\nby using Lévy’s inequality (Proposition \\[Llevyineq\\]) with $m=n, X_k = x_k^{2 r_k}$, $B_k = \\{ n-k+1, \\dots, n \\}$, and replacing $(s,t)$ by $(u,v)$. Now another application of Lévy’s inequality with the same choice of parameters – except with $B_k = \\{ 1, \\dots, k \\}$ – concludes the proof.\n\n**Step 2.** We now prove Equation  for $p,q \\geqslant 1$. Applying Equation  repeatedly yields:\n$${\\mathbb P} \\leqslant 4^{2^l-1} {\\mathbb P}^{2^l}, \\qquad \\forall l \\in {\\mathbb N}.$$\n\nSet $l$ to be the unique positive integer such that $2^{l-1}\n\\leqslant q < 2^l$, and change variables $t = 4^l r \\in (0,\\infty)$. Using that ${\\mathbb E}_\\mu[Z^p] = p \\int_0^\\infty t^{p - 1} {\\mathbb P}\\ dt$ for an $L^p$ random variable $Z \\geqslant 0$, we compute:\n$$\\begin{aligned}\n{\\mathbb E}_\\mu[d_{\\mathscr G}(1_{\\mathscr G}, S_n^{2^l})^q] = &\\ q \\int_0^\\infty (4^l r)^{q-1}\n{\\mathbb P} \\cdot 4^l\\ dr\\\\\n\\leqslant &\\ q 4^{lq + 2^l-1} \\int_0^\\infty r^{q-1} {\\mathbb P}^{2^l}\\ dr.\\end{aligned}$$\n\nNow $4^{lq} \\leqslant (2q)^{2q}$ and $r {\\mathbb P}\n\\leqslant {\\mathbb E}_\\mu[d_{\\mathscr G}(1_{\\mathscr G},S_n)]$ by Markov’s inequality. Therefore,\n$$\\begin{aligned}\n{\\mathbb E}_\\mu[d_{\\mathscr G}(1_{\\mathscr G}, S_n^{2^l})^q] \\leqslant &\\ (2q)^{2q} 4^{2q-1} q\n\\int_0^\\infty {\\mathbb E}_\\mu[d_{\\mathscr G}(1_{\\mathscr G},S_n)]^{q-1} \\cdot {\\mathbb P}\\ dr\\\\\n= &\\ \\frac{(8q)^{2q+1}}{32} {\\mathbb E}_\\mu[d_{\\mathscr G}(1_{\\mathscr G}, S_n)]^q.\\end{aligned}$$\n\nTaking $q$th roots and using Hölder’s inequality now yields Equation .\n\n**Step 3.** Finally, we prove all remaining assertions, assuming that ${\\mathscr G}$ is normed. Note that Equation  immediately follows from Hölder’s inequality if $q \\leqslant p$, and from Equation  if $q>p$. This proves (1); to show (2), we first claim that if $q=2$ and $p=1$, then:\n$$\n{\\mathbb E}_\\mu[P_n^2]^{1/2} \\leqslant \\sqrt{2}\\ {\\mathbb E}_\\mu[P_n],$$\n\nwhere $P_n$ was defined in Step 1 above. The claim is proved in exactly the same way as [@LO Theorem 1]; the assumption that ${\\mathscr G}$ is normed is required to prove, using the triangle inequality  and Lemma \\[Lnormed\\], that (notation as in [@LO]):\n$$\\begin{aligned}\n(n-2) X_\\varepsilon = d_{\\mathscr G}(1_{\\mathscr G}, \\prod_{k=1}^n\nx_k^{(n-2)\\varepsilon_k}) = &\\ d_{\\mathscr G}\\left( 1_{\\mathscr G}, \\prod_{\\eta \\in \\{ -1, 1\n\\}^n :\\ d(\\varepsilon,\\eta) = 1} \\prod_{k=1}^n x_k^{\\eta_k} \\right)\\\\\n\\leqslant &\\ \\sum_{\\eta \\in \\{ -1, 1 \\}^n :\\ d(\\varepsilon,\\eta) = 1}\nX_\\eta.\\end{aligned}$$\n\nThis shows (2) for $q=2$; now suppose $q \\in [1,2]$. Setting $\\theta := 2 - 2/q \\in [0,1]$; therefore $1/q = \\theta \\cdot (1/2) + (1 - \\theta) \\cdot 1$. The log-convexity of $L^p$ norms and Equation  now shows:\n$${\\mathbb E}_\\mu[P_n^q]^{1/q} \\leqslant {\\mathbb E}_\\mu[P_n^2]^{\\theta/2}\n{\\mathbb E}_\\mu[P_n]^{1-\\theta} \\leqslant (\\sqrt{2}\\ {\\mathbb E}_\\mu[P_n])^\\theta\n{\\mathbb E}_\\mu[P_n]^{1-\\theta} = 2^{1-1/q}\\ {\\mathbb E}_\\mu[P_n].$$\n\nIf ${\\mathscr G}$ is not a singleton, then we note that $C_{1,q} =\n2^{1-1/q}$ is the best possible constant by considering $n=2$ and $x_1 =\nx_2 \\neq 1_{\\mathscr G}$.\n\nNormed abelian semigroups, expectations, and universal envelopes {#Snormed}\n================================================================\n\nIn this section we provide a more conceptual reason why the sharp constants in Theorem \\[Tkhinchin\\](2) for normed abelian metric groups ${\\mathscr G}$ are precisely the ones obtained by Lata[ł]{}a and Oleszkiewicz in [@LO]. As we will see below, this is intimately connected with extending the notion of Bochner integration and expectations, to ${\\mathscr G}$-valued random variables.\n\nGiven Theorem \\[Tkhinchin\\], it is natural to explore further the consequences of a normed structure on an abelian metric group ${\\mathscr G}$. Specifically, we focus on the following embedding questions:\n\n1.  Does every normed abelian metric (semi)group ${\\mathscr G}$ embed into a normed linear space?\n\n2.  Is it possible to construct the smallest such Banach space?\n\nAs we explain below, the first of these questions has been answered in [@GK] for ${\\mathscr G}$ a group. However, to our knowledge a minimal “enveloping” Banach space was not constructed to date. Thus our goals in this section are twofold: first, to construct such a minimal Banach space – for all semigroups, not just groups (thereby also answering (1) for semigroups); and second, to explain why the optimal constants in Theorem \\[Tkhinchin\\](2) are the same for normed abelian groups and normed linear spaces.\n\nWe begin by proving that every normed abelian metric semigroup isometrically embeds into a “smallest” Banach space (which is essentially unique). Our proof is constructive and shows a stronger result: ${\\mathscr G}$ in fact embeds into a “smallest” normed monoid, which embeds into a “smallest” normed group; and similarly, every normed abelian group embeds into a “smallest” Banach space. Note that the first of these steps was shown in Corollary \\[Cstrict\\]. Our next main result (or more precisely, its proof) shows that this phenomenon occurs when extending at every stage: from abelian monoids to groups, to divisible groups, to linear spaces.\n\n\\[Tnormed\\] Every (separable) abelian normed metric semigroup ${\\mathscr G}$ canonically and isometrically embeds into a “smallest” (separable) Banach space ${\\mathbb B}({\\mathscr G})$. In particular, the theory of Bochner integration extends to all such semigroups ${\\mathscr G}$.\n\nBefore proving Theorem \\[Tnormed\\], we discuss some of its consequences. An immediate consequence is that the final step in the proof of Theorem \\[Tkhinchin\\] directly follows from the analogous results in Banach spaces [@LO]. More generally, Theorem \\[Tnormed\\] provides a transfer principle to translate problems from normed abelian metric semigroups to Banach spaces. For instance, the following result immediately follows from its Banach space counterpart, e.g. [@LT Theorem 2.4]:\n\nSuppose $({\\mathscr G}, d_{\\mathscr G})$ is a complete separable normed abelian metric semigroup and $X_n \\in L^0(\\Omega,{\\mathscr G})$ are independent. Then $S_n := X_1\n\\cdots X_n$ converges almost surely if and only if $S_n$ converges in probability, if and only if $S_n$ converges in distribution.\n\nSimilarly, the main result in [@MP] immediately extends to arbitrary normed abelian semigroups. Another consequence of Theorem \\[Tnormed\\] is (a slight strengthening of) the main result of [@M]:\n\n\\[Tmont\\] There exist universal constants $c_1$ and $c_2$ such that for all (a) separable normed abelian metric semigroups $({\\mathscr G}, d_{\\mathscr G})$, (b) elements $z_0, z_1 \\in {\\mathscr G}$, and (c) i.i.d. random variables $\\{ X_n : (\\Omega,{\\mathscr A},\\mu) \\to ({\\mathscr G},\n\\mathscr{B}_{\\mathscr G}) : n \\in {\\mathbb N}\\}$,\n$${\\mathbb P} \\leqslant c_2 {\\mathbb P},$$\n\nwhere $U_n := \\max_{1 \\leqslant k \\leqslant n} d_{\\mathscr G}(z_0, z_0\nS_k)$. Moreover, one may choose $c_1 = 10$ and $c_2 = 3$.\n\nTheorem \\[Tmont\\] strengthens [@M Theorem 1], both in the statement of the result, as well as in its applicability to arbitrary normed abelian metric semigroups. We omit the proof for brevity, as it is adapted from the existing proof in [@M].\n\nNote that while the final step (Step 3) in the proof of Theorem \\[Tkhinchin\\] follows immediately from Theorem \\[Tnormed\\] for normed groups, the first two steps, which formed the technical heart of the proof of Theorem \\[Tkhinchin\\], hold in greater generality in arbitrary abelian metric semigroups. Thus the Khinchin–Kahane inequality  holds for instance in all abelian Lie groups, as well as in finite abelian groups, which necessarily cannot be normed.\n\nWe will use additive notation throughout this proof as ${\\mathscr G}$ is abelian. The proof is constructive, and carried out in stages; however, an outline is in the following equation:\n$$\n{\\mathscr G}_{\\mathbb N}:= {\\mathscr G}\\hookrightarrow {\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}} := {\\mathscr G}' \\hookrightarrow\n{\\mathscr G}_{\\mathbb Z}:= {\\mathbb Z}\\otimes_{{\\mathbb N}\\cup \\{ 0 \\}} {\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}}\n\\hookrightarrow {\\mathscr G}_{\\mathbb Q}:= {\\mathbb Q}\\otimes_{\\mathbb Z}{\\mathscr G}_{\\mathbb Z}\\hookrightarrow {\\mathbb B}({\\mathscr G}) :=\n\\overline{{\\mathscr G}_{\\mathbb Q}}.$$\n\nWe now explain these steps one by one.\n\n1.  Embed the semigroup into a metric monoid ${\\mathscr G}'$ via Corollary \\[Cstrict\\]. We label ${\\mathscr G}_{\\mathbb N}:= {\\mathscr G}$ and ${\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}}\n    := {\\mathscr G}'$ to denote that ${\\mathscr G},{\\mathscr G}'$ are “modules” over ${\\mathbb N}, {\\mathbb N}\\cup \\{ 0\n    \\}$ respectively.\n\n2.  It is easily shown that ${\\mathscr G}_{\\mathbb N}$ and hence ${\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}}$ is cancellative. Therefore the monoid ${\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}}$ embeds into its Grothendieck group ${\\mathscr G}_{\\mathbb Z}$ (which is a ${\\mathbb Z}$-module) by attaching additive inverses and quotienting by an equivalence relation. Extend the metric $d_{{\\mathscr G}_{{\\mathbb N}\\cup\n    \\{ 0 \\}} }$ to ${\\mathscr G}_{\\mathbb Z}$ via: $d_{{\\mathscr G}_{\\mathbb Z}}(p-q, r-s) := d_{{\\mathscr G}_{{\\mathbb N}\\cup \\{ 0\n    \\}} }(p+s, q+r)$, for all $p,q,r,s \\in {\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}}$. Then $({\\mathscr G}_{\\mathbb Z}, 0_{{\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}} }, d_{{\\mathscr G}_{\\mathbb Z}})$ is an abelian metric group and ${\\mathscr G}_{\\mathbb N}\\hookrightarrow {\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}} \\hookrightarrow\n    {\\mathscr G}_{\\mathbb Z}$ are isometric (hence injective) semigroup/monoid homomorphisms. ${\\mathscr G}_{\\mathbb Z}$ is also normed since for all $n \\in {\\mathbb Z}$ and all $p,q \\in {\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}}$,\n$$d_{{\\mathscr G}_{\\mathbb Z}}(0_{{\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}} }, n (p-q)) = d_{{\\mathscr G}_{{\\mathbb N}\\cup \\{ 0\n    \\}} }(|n|q, |n|p) = |n| d_{{\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}} }(q,p) = |n|\n    d_{{\\mathscr G}_{\\mathbb Z}}(0_{{\\mathscr G}_{{\\mathbb N}\\cup \\{ 0 \\}} }, p-q).$$\n\n3.  Note that ${\\mathscr G}_{\\mathbb Z}$ is a torsion-free ${\\mathbb Z}$-module because if $ng =\n    0_{{\\mathscr G}_{\\mathbb Z}}$ for $n \\in {\\mathbb Z}\\setminus \\{ 0 \\}$ and $g \\in {\\mathscr G}_{\\mathbb Z}$, then the preceding equation implies that $g = 0_{{\\mathscr G}_{\\mathbb Z}}$. Now define ${\\mathscr G}_{\\mathbb Q}:= {\\mathbb Q}\\otimes_{\\mathbb Z}{\\mathscr G}_{\\mathbb Z}$; thus ${\\mathscr G}_{\\mathbb Q}$ is a ${\\mathbb Q}$-vector space (and hence a divisible abelian group), and ${\\mathscr G}_{\\mathbb Z}$ embeds into ${\\mathscr G}_{\\mathbb Q}$. Moreover for every $g \\in {\\mathscr G}_{\\mathbb Q}$ there exists $n_g \\in {\\mathbb N}$ such that $n_g\n    g \\in {\\mathscr G}_{\\mathbb Z}$. Now define $d_{{\\mathscr G}_{\\mathbb Q}}$ on ${\\mathscr G}_{\\mathbb Q}^2$ via:\n$$d_{{\\mathscr G}_{\\mathbb Q}}(g,h) := \\frac{1}{n_g n_h} d_{{\\mathscr G}_{\\mathbb Z}}(n_h (n_g g), n_g (n_h h)).$$\n\n4.  Define ${\\mathbb B}({\\mathscr G})$ to be the set of equivalence classes of $d_{{\\mathscr G}_{\\mathbb Q}}$-Cauchy sequences (i.e., the topological completion) of ${\\mathscr G}_{\\mathbb Q}$. One shows using algebraic and topological arguments that ${\\mathbb B}({\\mathscr G})$ is an abelian group and ${\\mathscr G}_{\\mathbb Q}$ embeds isometrically into ${\\mathbb B}({\\mathscr G})$. Moreover, if $x \\in {\\mathbb R}$ and $(g_n)_n$ is Cauchy in ${\\mathbb B}({\\mathscr G})$, then choose any sequence $x_n \\in {\\mathbb Q}$ converging to $x$, and define $x\n    \\cdot [(g_n)_n] := [(x_n g_n)_n]$. It is easy to verify that $(x_n\n    g_n)_n$ is also a Cauchy sequence in ${\\mathscr G}_{\\mathbb Q}$, and the resulting operation makes ${\\mathbb B}({\\mathscr G})$ into an ${\\mathbb R}$-vector space.\n\n    Now define $d_{{\\mathbb B}({\\mathscr G})}([(g_n)_n], [(h_n)_n]) := \\lim_{n \\to \\infty}\n    d_{{\\mathscr G}_{\\mathbb Q}}(g_n,h_n)$ (this exists and is well-defined by applying topological arguments). It is easily verified that $d_{{\\mathbb B}({\\mathscr G})}$ induces a norm on ${\\mathbb B}({\\mathscr G})$, making ${\\mathbb B}({\\mathscr G})$ a complete normed linear space, and proving Equation .\n\nTo conclude the proof, observe that if any of the steps starts with a separable metric space, then the subsequent constructions also yield separable metric spaces. The final assertion about extending Bochner integration to ${\\mathscr G}$ now follows; note the Bochner integral (or expectation) of ${\\mathscr G}$-valued random variables now lives in ${\\mathbb B}({\\mathscr G}_{\\mathbb Q})$ and not necessarily in ${\\mathscr G}$.\n\nThe preceding theorem says that for a metric semigroup $({\\mathscr G}, d_{\\mathscr G}$), the assumption of being abelian and normed is sufficient to embed ${\\mathscr G}$ into a Banach space. Clearly, the assumption is also necessary. The next result provides additional equivalent conditions when ${\\mathscr G}$ is a group, and also relates it to results in the literature.\n\n\\[Pnormed\\] Suppose ${\\mathscr G}$ is a topological group, with a continuous map $\\| \\cdot \\| :\n{\\mathscr G}\\to [0,\\infty)$ satisfying: (a) $\\| g \\| = 0$ if and only if $g = 1_{\\mathscr G}$; (b) $\\| g^{-1} \\| = \\| g \\|$ for all $g \\in {\\mathscr G}$; and (c) the triangle inequality holds: $\\| gh \\| \\leqslant \\| g \\| + \\| h \\|$ for $g,h \\in {\\mathscr G}$. Then the following are equivalent:\n\n1.  There exists a Banach space ${\\mathbb B}$ and a group homomorphism $: {\\mathscr G}\\to {\\mathbb B}$ that is an isometric embedding.\n\n2.  ${\\mathscr G}$ is abelian and $d_{\\mathscr G}(g,h) := \\| g h^{-1} \\|$ is a translation-invariant metric for which ${\\mathscr G}$ is normed.\n\n3.  ${\\mathscr G}$ is $\\{ 2 \\}$-normed (see Definition \\[Dnormed\\]) and is [*weakly commutative*]{}, i.e., for all $g,h \\in {\\mathscr G}$ there exists $n = n(g,h)\n    \\in {\\mathbb N}$ such that $(gh)^{2^n} = g^{2^n} h^{2^n}$.\n\n4.  ${\\mathscr G}$ is $\\{ 2 \\}$-normed and amenable.\n\nThat $(1) \\implies (2) \\implies (3)$ is immediate. That $(3)$ or $(4)$ implies $(1)$ follows from [@CSC Proposition 4.12] via [@GK Corollary 1]. This is a constructive proof, and the formula for the Banach space in question is presently discussed. Finally, that $(1)\n\\implies (4)$ follows since every abelian group is amenable (see [@Da] for more on amenable groups).\n\nWe now discuss Theorem \\[Tnormed\\], with its constructive proof, vis-a-vis Proposition \\[Pnormed\\]. The latter result shows that topological groups with *a priori* less structure also embed into Banach spaces, although the two sets of structures turn out to be equivalent. As the proof of [@CSC Proposition 4.12] is constructive as well, it is natural to ask if the Banach spaces constructed in the two results agree. This turns out not to be the case, as we now explain. More precisely, the Banach space ${\\mathbb B}$ constructed in [@CSC Proposition 4.12] turns out to be the “double-dual construction”:\n$${\\mathbb B}:= {\\rm Hom}_{gp,bdd}({\\mathscr G}, {\\mathbb R})^*$$\nis precisely the dual space to the set of real-valued bounded group maps $: {\\mathscr G}\\to {\\mathbb R}$. Thus, if ${\\mathscr G}$ is an infinite-dimensional Banach space, then the double-dual construction ${\\mathscr G}^{**}$ is strictly larger than ${\\mathscr G}$. On the other hand, the constructive proof of our result, Theorem \\[Tnormed\\], yields the “minimum” Banach space containing ${\\mathscr G}$, which is precisely ${\\mathscr G}$.\n\nWe end with a few remarks. First, we point out that each step in Equation  is canonical, in the sense that it uses only the given information without any additional structure. The natural way to encode this information is via category theory. In other words, every further step/extension in is the smallest possible – hence *universal* – “enveloping” object in some category. We do not continue further along these lines in the present section, as these discussions are not central to the main focus of the paper. Instead, these categorical discussions are deferred to Appendix \\[Acat\\].\n\nNotice also that given Corollary \\[Cstrict\\], it is natural to ask in the non-abelian situation if every (cancellative) metric semigroup embeds into a metric group. This question is harder to tackle; see [@CP Chapter 1] for a sufficient condition involving right reversibility.\n\n\\[Ropen\\] We end this section with an (open) question: Do non-commutative normed metric semigroups exist? In other words, find an example of a non-abelian topological group ${\\mathscr G}$ with a translation-invariant metric $d_{\\mathscr G}$ – also called “bi-invariant” in geometric group theory – such that $d_{\\mathscr G}(1_{{\\mathscr G}}, z_0^n) = |n|\nd_{\\mathscr G}(1,z_0)$ for all $z_0 \\in {\\mathscr G}$ and $n \\in {\\mathbb Z}$. To our knowledge (and that of experts including [@GaKe; @St2]), the answer to this question is not known.\n\nAs a possible approach to answering the aforementioned question, a first step is to ask if certain prototypical examples of non-commutative groups with a bi-invariant metric are normed. This is now shown to be false for a well-studied example:\n\n\\[Lword\\] Let ${\\mathscr G}= F_2$ denote the free group on generators $a,b$, say. If a conjugation-invariant (i.e., translation-invariant) word metric $d_{\\mathscr G}$ exists, then $({\\mathscr G}, d_{\\mathscr G})$ is not normed.\n\nNote that we work with $d_{\\mathscr G}$ as opposed to the usual word metric in the four semigroup generators of ${\\mathscr G}$. The metric $d_{\\mathscr G}$ and related structures were studied in e.g. [@BGKM].\n\nSince by assumption $d_{\\mathscr G}(1_{\\mathscr G},-)$ equals $1$ on $a,b$ and is bi-invariant, we compute:\n$$[a,b]^3 = a b a^{-1} \\cdot b^{-1} a b \\cdot a^{-1} b^{-1} a \\cdot b\na^{-1} b^{-1}.$$\n\nNow compute the word lengths: $l_{\\mathscr G}([a,b]^3) = 4$, while $3\nl_{\\mathscr G}([a,b]) = 6$. Hence ${\\mathscr G}$ is not normed.\n\nCategories of normed metric modules {#Acat}\n===================================\n\nRecall that the proof of Theorem \\[Tnormed\\] showed that every normed abelian semigroup (respectively, group) embeds into a smallest normed abelian group (respectively, Banach space). We can make these statements precise using the language of category theory. Such results may not be surprising to the algebraist once formulated, and in any case they diverge from the main probabilistic focus of the paper; thus they are deferred to this appendix. Briefly, we will show the above constructions are instances of “universal objects”, and provide examples of pairs of adjoint “induction-restriction functors”.\n\nTo explore the aforementioned constructions in full detail, we first propose a unifying framework in which to study normed abelian metric semigroups, monoids, and groups, as well as Banach spaces, simultaneously: normed metric modules.\n\nSuppose a subset $S \\subset {\\mathbb R}$ is closed under addition and multiplication.\n\n1.  An *$S$-module* is defined to be an abelian semigroup $(G,+)$ together with an action map $\\cdot : S \\times G \\to G$, satisfying the following properties for $s,s' \\in S$ and $g,g' \\in\n    G$:[^2]\n$$s \\cdot (g+g') = s \\cdot g + s \\cdot g', \\quad (s+s') \\cdot g = (s \\cdot\n    g) + (s' \\cdot g), \\quad (s s') \\cdot g = s \\cdot (s' \\cdot g), \\quad 1\n    \\cdot g = g \\text{ if } 1 \\in S.$$\n\n2.  A *metric $S$-module* is an $S$-module $(G,+)$ together with a translation-invariant metric $d_G$. We say $(G,+,d_G)$ is *normed* if $d_G(s \\cdot g, s \\cdot g') = |s| d_G(g,g')$ for all $s \\in S$ and $g,g' \\in G$.\n\n3.  Let ${\\mathscr C}_S$ denote the category whose objects are normed metric $S$-modules $G_S$, and morphisms are uniformly continuous $S$-module maps. Also denote by $\\overline{{\\mathscr C}}_S$ the full subcategory of all objects in ${\\mathscr C}_S$ that are complete metric spaces.\n\nNow ${\\mathbb N}$-modules are semigroups and $({\\mathbb N}\\cup \\{ 0 \\})$-modules are monoids. Using this notation, Theorem \\[Tnormed\\] discusses the objects in the categories ${\\mathscr C}_S$ for $S = {\\mathbb N}, {\\mathbb N}\\cup \\{ 0 \\}, {\\mathbb Z}, {\\mathbb Q}$, as well as $\\overline{{\\mathscr C}}_{\\mathbb R}$, the category of Banach spaces and bounded operators. Note that we did not discuss normed linear spaces in Theorem \\[Tnormed\\], i.e., the category ${\\mathscr C}_{\\mathbb R}$; however, it is natural to ask if there exists a smallest normed linear space containing a normed abelian metric group. In our next result we provide a positive answer to this question, again using categorical methods. Thus, we show that the constructions in Equation  possess functorial properties and therefore are universal in the above categories.\n\n\\[Tuniversal\\] Suppose each of $S,T,U$ is either ${\\mathbb N}, {\\mathbb N}\\cup \\{ 0 \\}$, or a unital subring of ${\\mathbb R}$, with $S \\subset T$ or $S \\supset T$. Suppose also that $G_S$ is an object of ${\\mathscr C}_S$. Now define\n$${\\mathscr G}_T(G_S) := \\begin{cases}\n    G_S \\ (\\text{viewed as an object of } {\\mathscr C}_T), & \\text{if } S\n    \\supset T;\\\\\n    \\text{the unique object of ${\\mathscr C}_T$ defined as in~\\eqref{Enormed}},\n    & \\text{if } S = {\\mathbb N}, {\\mathbb N}\\cup \\{ 0 \\},\n    \\ T \\supset S;\\\\\n    T \\otimes_S G_S, & \\text{if } {\\mathbb Z}\\subset S \\subset T.\n\\end{cases}$$\n\n1.  ${\\mathscr G}_T(G_S)$ is an object of ${\\mathscr C}_S \\cap {\\mathscr C}_T$ with the following universal property: given an object $G_T$ in ${\\mathscr C}_S \\cap\n    {\\mathscr C}_T$, together with a morphism $\\iota : G_S \\to G_T$ in ${\\mathscr C}_S$, $\\iota$ extends via the unique isometric monomorphism $G_S\n    \\hookrightarrow {\\mathscr G}_T(G_S)$ to a unique morphism $\\iota_T : {\\mathscr G}_T(G_S) \\to\n    G_T$ in ${\\mathscr C}_T$.\n\n2.  In particular, $({\\mathscr G}_T(G_S), \\iota_T)$ is unique up to a unique isomorphism in ${\\mathscr C}_T$.\n\n3.  Given $G_S$, define $\\overline{{\\mathscr G}}_T(G_S)$ to be the Cauchy completion of ${\\mathscr G}_T(G_S)$ (as a metric space). Then $\\overline{{\\mathscr G}}_T(G_S)$ is an object of $\\overline{{\\mathscr C}}_T$ and satisfies the same properties as in the previous parts.\n\n4.  Suppose ${\\mathbb N}\\subset S \\subset T \\subset U \\subset {\\mathbb R}$, with $S,T,U$ of the form ${\\mathbb N}, {\\mathbb N}\\cup \\{ 0 \\}$, or a unital subring of ${\\mathbb R}$. For all objects $G_S$ in ${\\mathscr G}_S$, there exist unique isomorphisms:\n$${\\mathscr G}_U({\\mathscr G}_T(G_S)) \\cong {\\mathscr G}_U(G_S), \\qquad \\overline{{\\mathscr G}}_U({\\mathscr G}_T(G_S))\n    \\cong \\overline{{\\mathscr G}}_U(\\overline{{\\mathscr G}}_T(G_S)) \\cong \\overline{{\\mathscr G}}_U(G_S).$$\n\n5.  The following are equivalent for a unital subring $S \\subset {\\mathbb R}$:\n\n    1.  $S$ is dense in ${\\mathbb R}$.\n\n    2.  $\\overline{G_S} = \\overline{{\\mathscr G}}_T(G_S) = {\\mathbb B}(G_S)$ for all objects $G_S$ of ${\\mathscr C}_S$ and all subrings $S \\subset T \\subset {\\mathbb R}$.\n\nFor the above reason, if $S \\subset T$ or $S \\supset T$ then we call ${\\mathscr G}_T(G_S), \\overline{{\\mathscr G}}_T(G_S)$ the [*universal envelopes*]{} of $G_S$ in ${\\mathscr C}_T$ and $\\overline{{\\mathscr C}}_T$ respectively. Note that such “minimal envelopes” are ubiquitous in mathematics; examples include the universal enveloping algebra of a Lie algebra, the convex hull of a set (in a real vector space), and the $\\sigma$-algebra generated by a set of subsets. Also observe that ${\\mathbb B}(G_S)$ is the completion of the smallest normed linear space containing $G_S$, for all $S$ and objects $G_S$ in ${\\mathscr C}_S$.\n\nThe proof involves (sometimes standard) category-theoretic arguments, and is included for the convenience of the reader.\n\n1.  The first part is immediate if $S \\supset T$; we now show it assuming that $S \\subset T$. Given an object $G_S$ in ${\\mathscr C}_S$, note ${\\mathscr G}_T(G_S) \\subset {\\mathbb B}(G_S)$. This immediately shows ${\\mathscr G}_T(G_S)$ is an object of ${\\mathscr C}_T$. Now given a morphism $\\iota : G_S \\to G_T$ in ${\\mathscr C}_S$, if $S = {\\mathbb N}$ then first define $\\iota_T(0_{{\\mathscr G}_T(G_S)}) :=\n    0_{G_T}$. If $S = {\\mathbb N}\\cup \\{ 0 \\}$ then define $\\iota_T(-g) := -\\iota(g)$ for $g \\in G_S$. Finally, if $S$ is a unital subring of ${\\mathbb R}$ and $x :=\n    \\sum_{j=1}^n t_j g_j \\in T \\otimes_S G_S$ (with $g_j \\in G_S\\ \\forall\n    i$), then define $\\iota_T(x) := \\sum_{j=1}^n t_j \\iota(g_j)$. These conditions are necessary to extend $\\iota$ to $\\iota_T$; moreover, it is not hard to show using Theorem \\[Tnormed\\] that they are also sufficient to uniquely extend $\\iota$ to $\\iota_T$.\n\n2.  This is a standard categorical consequence of universality.\n\n3.  This part is obvious for $S \\supset T$, so suppose $S \\subset T,\\\n    G_S \\in {\\mathscr C}_S$. Given $\\iota : G_S \\to G_T$ with $G_T \\in {\\mathscr C}_S \\cap\n    \\overline{{\\mathscr C}}_T$, by (1) $\\iota$ extends uniquely to $\\iota_T :\n    {\\mathscr G}_T(G_S) \\to G_T$, which in turn extends uniquely to $\\overline{\\iota_T}\n    : \\overline{{\\mathscr G}}_T(G_S) \\to G_T$ by uniform continuity. Now verify $\\overline{\\iota_T}$ is a morphism in $\\overline{{\\mathscr C}}_T$.\n\n4.  This part is standard from above using universal properties, and is omitted for brevity.\n\n5.  First if $S$ is not dense in ${\\mathbb R}$, i.e. $S = {\\mathbb Z}$, then choose $G_S\n    = {\\mathbb Z}$. Now $\\overline{G_S} = {\\mathbb Z}\\neq {\\mathbb R}= {\\mathbb B}(G_S)$, whence (b) implies (a). Conversely, suppose (a) holds and $G_S$ is in ${\\mathscr C}_S$. Repeat the construction in step (4) of the proof of Theorem \\[Tnormed\\], to show the embedding $: G_S \\hookrightarrow {\\mathbb B}(G_S)$ uniquely extends to an isometric isomorphism $: \\overline{G_S} \\to {\\mathbb B}(G_S)$ of Banach spaces.\n\n    Finally, given $S \\subset T \\subset {\\mathbb R}$, note that ${\\mathscr G}_T(G_S) = T\n    \\otimes_S G_S \\subset {\\mathbb R}\\otimes_S G_S \\subset {\\mathbb B}(G_S)$. Hence by universality of completions, $\\overline{{\\mathscr G}}_T(G_S) \\subset {\\mathbb B}(G_S)$. Moreover, by the previous paragraph $\\overline{{\\mathscr G}}_T(G_S)$ is a Banach space containing $G_S$. This shows the reverse inclusion.\n\nHaving discussed [*universality*]{}, we now study [*functoriality*]{}. The following result shows that the assignments ${\\mathscr G}_S$ provide examples of induction and restriction functors.\n\n\\[Tfunctor\\] Suppose each of $S \\subsetneq T$ is either ${\\mathbb N}, {\\mathbb N}\\cup \\{ 0 \\}$, or a unital subring of ${\\mathbb R}$.\n\n1.  Then ${\\mathscr G}_S : {\\mathscr C}_T \\to {\\mathscr C}_S$ is a covariant “restriction” (of scalars) functor which is fully faithful but not essentially surjective. If $S$ is a ring then ${\\mathscr G}_S$ is faithfully exact.\n\n2.  Moreover, ${\\mathscr G}_T : {\\mathscr C}_S \\to {\\mathscr C}_T$ is a covariant “extension” (of scalars) functor which is faithful and essentially surjective but not full. If $S$ is a ring, then ${\\mathscr G}_T$ is additive, right-exact, and left adjoint to ${\\mathscr G}_S$.\n\n3.  If $S$ is dense in ${\\mathbb R}$, then ${\\mathscr G}_S, {\\mathscr G}_T$ yield an equivalence of categories $: \\overline{{\\mathscr C}}_S \\leftrightarrow \\overline{{\\mathscr C}}_T$.\n\nIn other words, the module-theoretic correspondence involving extension-restriction of scalars also holds for the categories ${\\mathscr C}_S,\n\\overline{{\\mathscr C}}_S$ of normed metric modules.\n\nAssume henceforth that $G_S, G'_S$ are objects in ${\\mathscr C}_S$, and $G_T,\nG'_T$ are objects in ${\\mathscr C}_T$.\n\n1.  It is immediate that ${\\mathscr G}_S : {\\mathscr C}_T \\to {\\mathscr C}_S$ is a faithful, covariant functor. It is not essentially surjective because $S \\subsetneq\n    T$ is not a $T$-module. We now show ${\\mathscr G}_S$ is full – in fact we show more strongly that all $S$-module maps are in fact $T$-linear. Note, every $S$-module map between objects $G_T, G'_T$ in ${\\mathscr C}_T$ gives rise to a unique ${\\mathbb Z}$-module map between them. Given such a map $\\varphi$, we only use the continuity and additivity of $\\varphi$ to show that $\\varphi$ is in fact $T$-linear. Thus, fix $g \\in G_T$ and consider the function $f : T \\to\n    G'_T$ given by $f(t) := \\varphi(t g)$. Clearly $f$ is continuous and additive, so given a sequence of rationals $m_k / n_k \\to t$, we compute:\n$$0 \\leftarrow f(m_k - t n_k) = m_k f(1) - n_k f(t) = m_k \\varphi(g) - n_k\n    \\varphi(tg).$$\n\n2.  That ${\\mathscr G}_T : {\\mathscr C}_S \\to {\\mathscr C}_T$ is a faithful, covariant functor is trivial. It is also essentially surjective because $G_T \\cong\n    {\\mathscr G}_T({\\mathscr G}_S(G_T))$ for all objects $G_T$ in ${\\mathscr C}_T$. Now fix $t_0 \\in T\n    \\setminus S$. To show that ${\\mathscr G}_T$ is not full, set $G_S = G'_S\n    := S$ and define $\\varphi_T : {\\mathscr G}_T(G_S) = T \\to {\\mathscr G}_T(G'_S) = T$ via: $\\varphi_T(t) = t_0 t$. Then there does not exist a map $\\varphi_S : G_S\n    = S \\to G'_S = S$ such that $\\varphi_T = {\\mathscr G}_T(\\varphi_S)$. The assertions in the case when $S$ is a ring are also standard.\n\n3.  This part follows from straightforward verifications.\n\nAcknowledgments {#acknowledgments .unnumbered}\n---------------\n\nThe first author thanks Ś.R. Gal and J. Kedra for helpful conversations regarding bi-invariant word metrics, including Lemma \\[Lword\\]. We would also like to thank David Montague and Doug Sparks for carefully going through an early draft of the paper and providing detailed feedback, which improved the exposition.\n\n[88]{} N.H. Bingham and A.J. Ostaszewski, [*Normed versus topological groups: Dichotomy and duality*]{}, [Dissertationes Mathematicae](http://journals.impan.pl/dm/Inf/472-0-1.html) (Rozprawy Matematyczne) **472** (2010), 138 pp.\n\nM. Brandenbursky, Ś.R. Gal, J. Kedra, and M. Marcinkowski, [ *The cancellation norm and the geometry of bi-invariant word metrics*]{}, [Glasgow Mathematical Journal](http://dx.doi.org/10.1017/S0017089515000129) **58** (2016), no. 1, 153–176.\n\nF. Cabello Sánchez and J.M.F. Castillo, [*Banach space techniques underpinning a theory for nearly additive mappings*]{}, [Dissertationes Mathematicae](http://journals.impan.pl/dm/Inf/404-0-1.html) (Rozprawy Matematyczne) **404** (2002), 73 pp.\n\nA.H. Clifford and G.B. Preston, [*The algebraic theory of semigroups*]{}, Volume I, Mathematical Surveys **7**, American Mathematical Society, Providence, 1961.\n\nM.M. Day, [*Amenable semigroups*]{}, [Illinois Journal of Mathematics](https://projecteuclid.org/euclid.ijm/1255380675) **1** (1957), no. 4, 509–544.\n\nZ. Gajda and Z. Kominek, [*On separation theorems for subadditive and superadditive functionals*]{}, [Studia Mathematica](http://pldml.icm.edu.pl/pldml/element/bwmeta1.element.bwnjournal-article-smv100i1p25bwm) **100** (1991) no. 1, 25–38.\n\nŚ.R. Gal and J. Kedra, personal communication, 2015.\n\nU. Grenander, [*Probabilities on algebraic structures*]{}, Almqvist $\\&$ Wiksell, and John Wiley $\\&$ Sons Inc., Stockholm and New York, 1963.\n\nJ.-P. Kahane, [*Sur les sommes vectorielles $\\sum \\pm u_n$*]{}, Comptes Rendus de l’Académie des Sciences (Paris) **259** (1964), 2577–2580.\n\nA. Khare and B. Rajaratnam, [*Differential calculus on the space of countable labelled graphs*]{}, preprint (arXiv:1410.6214), 2014.\n\nA. Khare and B. Rajaratnam, [*Integration and measures on the space of countable labelled graphs*]{}, preprint (arXiv:1506.01439), 2015.\n\nA. Khare and B. Rajaratnam, [*Probability inequalities and tail estimates for metric semigroups*]{}, preprint (arXiv:1506.02605), 2015.\n\nA. Khare and B. Rajaratnam, [*The Hoffmann-J[ø]{}rgensen inequality in metric semigroups*]{}, [Annals of Probability](http://www.imstat.org/aop/future_papers.htm), to appear (arXiv:1610.02324), 2016.\n\nA. Khintchine \\[Khinchin\\], [*Über dyadische Brüche*]{}, [Mathematische Zeitschrift](http://link.springer.com/article/10.1007/BF01192399) **18** (1923), no. 1, 109–116.\n\nV.L. Klee Jr., [*Invariant metrics in groups (solution of a problem of Banach)*]{}, [Proceedings of the American Mathematical Society](http://www.jstor.org/stable/2031907) **3** (1952), no. 3, 484–487.\n\nR. Lata[ł]{}a and K. Oleszkiewicz, [*On the best constant in the Khinchin–Kahane inequality*]{}, [Studia Mathematica](http://pldml.icm.edu.pl/pldml/element/bwmeta1.element.bwnjournal-article-smv109i1p101bwm) **109** (1994), no. 1, 101–104.\n\nM. Ledoux and M. Talagrand, [*Probability in Banach Spaces (Isoperimetry and Processes)*]{}, Ergebnisse der Mathematik und ihrer Grenzgebiete, Springer-Verlag, Berlin-New York, 1991.\n\nL. Lov[á]{}sz, [*Large Networks and Graph Limits*]{}, volume 60 of [ *Colloquium Publications*]{}, American Mathematical Society, Providence, 2012.\n\nS.J. Montgomery-Smith, [*Comparison of sums of independent identically distributed random vectors*]{}, [Probability and Mathematical Statistics](http://www.math.uni.wroc.pl/~pms/publicationsArticle.php?nr=14.2&nrA=10) **14** (1993), no. 2, 281–285.\n\nS.J. Montgomery-Smith and A.R. Pruss, [*A Comparison Inequality for Sums of Independent Random Variables*]{}, [Journal of Mathematical Analysis and Applications](http://www.sciencedirect.com/science/article/pii/S0022247X00972007) **254** (2001), no. 1, 35–42.\n\nW. Rudin, [*Fourier analysis on groups*]{}, Interscience, John Wiley & Sons, New York-London, 1962.\n\nJ. Steprāns, [*A characterization of free abelian groups*]{}, [Proceedings of the American Mathematical Society](http://www.ams.org/journals/proc/1985-093-02/S0002-9939-1985-0770551-0/) **93** no. 2 (1985), 347–349.\n\nS. Sternberg, [*Lectures on Differential Geometry*]{}, Prentice-Hall Mathematics Series, Prentice-Hall, Englewood Cliffs, 1965.\n\nS. Sternberg, personal communication, 2015.\n\n[^1]: A.K. and B.R. are partially supported by the following: US Air Force Office of Scientific Research grant award FA9550-13-1-0043, US National Science Foundation under grant DMS-0906392, DMS-CMG 1025465, AGS-1003823, DMS-1106642, DMS-CAREER-1352656, Defense Advanced Research Projects Agency DARPA YFA N66001-111-4131, the UPS Foundation, and SMC-DBNKY\n\n[^2]: Note that if $0 \\in S$ then $G$ is necessarily a monoid."
}